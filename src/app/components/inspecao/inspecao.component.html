<div>
  <mat-card class="home">
    <mat-card-title class="title" fxLayoutAlign="center center"
      >Inpeções</mat-card-title
    >
    <mat-card-subtitle class="subtitle" fxLayoutAlign="center center"
      >Contém todas as inpeções agendadas.</mat-card-subtitle
    >
    <mat-card-content>
      <div fxLayout="column">
        <div fxFlex *ngIf="!agendamentos" fxLayoutAlign="center center">
          <h2>Não há inspeções em seu nome.</h2>
        </div>
        <div fxFlex>
          <mat-card
            *ngFor="let agenda of agendamentos"
            class="cards-agendamentos cards mat-elevation-z4"
          >
            <div fxLayout="row wrap" fxLayout.xs="column">
              <div fxFlex="16" fxFlex.xs="100" class="container-img" ngClass.xs="container-img-mobile">
                <img
                  [src]="
                    agenda.imagemUrl
                      ? 'data:image/png;base64,' + agenda.imagemUrl
                      : '../../../assets/img/no-image.png'
                  "
                  class="img-card"
                  ngClass.xs="img-card-mobile"
                  alt="Imagem Empresa"
                />
              </div>
              <div fxFlex fxLayout="row wrap" fxLayout.xs="column">
                <div fxFlex="60">
                  <p>Empresa: {{ agenda.empresa }}</p>
                  <p>Inspetor: {{ agenda.nomeFunc }}</p>
                  <p>Data Início: {{ agenda.data | date: "dd/MM/yyyy" }}</p>
                  <p>Equipamento: {{ agenda.tipoEquip }}</p>
                </div>
                <div fxFlex>
                  <p>Status: {{ agenda.statusAgenda }}</p>
                  <p>Total Inspecionados: {{ agenda.qtdInsp }}</p>
                  <p>Total Não Inspecionados: {{ agenda.qtdNotInsp }}</p>
                </div>
              </div>
            </div>
            <mat-card-actions align="end">
                <button mat-raised-button color="primary" (click)="ContinuarInsp(agenda)" *ngIf="agenda.statusAgenda === 'Em Andamento'">
                  Continuar Inspeção 
                </button>
                <button mat-raised-button color="primary" (click)="iniciarInsp(agenda)" *ngIf="agenda.statusAgenda === 'Pendente'">
                  Iniciar Inspeção
                </button>
              </mat-card-actions>
          </mat-card>
        </div>
      </div>
    </mat-card-content>
  </mat-card>
</div>
